[{"type":"constructor","inputs":[{"name":"_twabController","type":"address","internalType":"contract TwabController"},{"name":"_prizePool","type":"address","internalType":"contract IPrizePool"}],"stateMutability":"nonpayable"},{"name":"EpochDurationLtDrawPeriod","type":"error","inputs":[]},{"name":"EpochDurationNotMultipleOfDrawPeriod","type":"error","inputs":[]},{"name":"EpochNotOver","type":"error","inputs":[{"name":"epochEndTimestamp","type":"uint64","internalType":"uint64"}]},{"name":"ExceedsMaxEpochs","type":"error","inputs":[{"name":"epochExtension","type":"uint8","internalType":"uint8"},{"name":"currentEpochs","type":"uint8","internalType":"uint8"},{"name":"maxEpochs","type":"uint8","internalType":"uint8"}]},{"name":"GracePeriodActive","type":"error","inputs":[{"name":"gracePeriodEndTimestamp","type":"uint256","internalType":"uint256"}]},{"name":"InvalidEpochId","type":"error","inputs":[{"name":"epochId","type":"uint8","internalType":"uint8"},{"name":"numberOfEpochs","type":"uint8","internalType":"uint8"}]},{"name":"NoEpochsToClaim","type":"error","inputs":[{"name":"startEpochId","type":"uint8","internalType":"uint8"},{"name":"currentEpochId","type":"uint8","internalType":"uint8"}]},{"name":"OnlyPromotionCreator","type":"error","inputs":[{"name":"sender","type":"address","internalType":"address"},{"name":"creator","type":"address","internalType":"address"}]},{"name":"PayeeZeroAddress","type":"error","inputs":[]},{"name":"PrizePoolZeroAddress","type":"error","inputs":[]},{"name":"PromotionInactive","type":"error","inputs":[{"name":"promotionId","type":"uint256","internalType":"uint256"}]},{"name":"StartTimeLtFirstDrawOpensAt","type":"error","inputs":[]},{"name":"StartTimeNotAlignedWithDraws","type":"error","inputs":[]},{"name":"TokensReceivedLessThanExpected","type":"error","inputs":[{"name":"received","type":"uint256","internalType":"uint256"},{"name":"expected","type":"uint256","internalType":"uint256"}]},{"name":"TwabControllerZeroAddress","type":"error","inputs":[]},{"name":"ZeroEpochs","type":"error","inputs":[]},{"name":"ZeroTokensPerEpoch","type":"error","inputs":[]},{"name":"PromotionCreated","type":"event","inputs":[{"name":"promotionId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"token","type":"address","indexed":true,"internalType":"contract IERC20"},{"name":"startTimestamp","type":"uint40","indexed":false,"internalType":"uint40"},{"name":"tokensPerEpoch","type":"uint104","indexed":false,"internalType":"uint104"},{"name":"epochDuration","type":"uint40","indexed":false,"internalType":"uint40"},{"name":"initialNumberOfEpochs","type":"uint8","indexed":false,"internalType":"uint8"}],"anonymous":false},{"name":"PromotionDestroyed","type":"event","inputs":[{"name":"promotionId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"name":"PromotionEnded","type":"event","inputs":[{"name":"promotionId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"epochNumber","type":"uint8","indexed":false,"internalType":"uint8"}],"anonymous":false},{"name":"PromotionExtended","type":"event","inputs":[{"name":"promotionId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"numberOfEpochs","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"name":"RewardsClaimed","type":"event","inputs":[{"name":"promotionId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"epochClaimFlags","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"name":"GRACE_PERIOD","type":"function","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"name":"SPONSORSHIP_ADDRESS","type":"function","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"name":"calculateDrawIdAt","type":"function","inputs":[{"name":"_timestamp","type":"uint64","internalType":"uint64"}],"outputs":[{"name":"","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"name":"calculateRewards","type":"function","inputs":[{"name":"_vault","type":"address","internalType":"address"},{"name":"_user","type":"address","internalType":"address"},{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_epochIds","type":"uint8[]","internalType":"uint8[]"}],"outputs":[{"name":"rewards","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"nonpayable"},{"name":"claimRewardedEpochs","type":"function","inputs":[{"name":"_vault","type":"address","internalType":"address"},{"name":"_user","type":"address","internalType":"address"},{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_startEpochId","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"name":"claimRewards","type":"function","inputs":[{"name":"_vault","type":"address","internalType":"address"},{"name":"_user","type":"address","internalType":"address"},{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_epochIds","type":"uint8[]","internalType":"uint8[]"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"name":"claimTwabRewards","type":"function","inputs":[{"name":"_twabRewards","type":"address","internalType":"contract ITwabRewards"},{"name":"_user","type":"address","internalType":"address"},{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_epochIds","type":"uint8[]","internalType":"uint8[]"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"name":"claimedEpochs","type":"function","inputs":[{"name":"promotionId","type":"uint256","internalType":"uint256"},{"name":"vault","type":"address","internalType":"address"},{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"claimMask","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"name":"createPromotion","type":"function","inputs":[{"name":"_token","type":"address","internalType":"contract IERC20"},{"name":"_startTimestamp","type":"uint40","internalType":"uint40"},{"name":"_tokensPerEpoch","type":"uint104","internalType":"uint104"},{"name":"_epochDuration","type":"uint40","internalType":"uint40"},{"name":"_numberOfEpochs","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"name":"destroyPromotion","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_to","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"name":"endPromotion","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_to","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"name":"epochBytesToIdArray","type":"function","inputs":[{"name":"_epochClaimFlags","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"uint8[]","internalType":"uint8[]"}],"stateMutability":"pure"},{"name":"epochIdArrayToBytes","type":"function","inputs":[{"name":"_epochIds","type":"uint8[]","internalType":"uint8[]"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"pure"},{"name":"epochRanges","type":"function","inputs":[{"name":"_promotionStartTimestamp","type":"uint48","internalType":"uint48"},{"name":"_promotionEpochDuration","type":"uint48","internalType":"uint48"},{"name":"_epochId","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"epochStartTimestamp","type":"uint48","internalType":"uint48"},{"name":"epochEndTimestamp","type":"uint48","internalType":"uint48"},{"name":"epochStartDrawId","type":"uint24","internalType":"uint24"},{"name":"epochEndDrawId","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"name":"epochRangesForPromotion","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_epochId","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"epochStartTimestamp","type":"uint48","internalType":"uint48"},{"name":"epochEndTimestamp","type":"uint48","internalType":"uint48"},{"name":"epochStartDrawId","type":"uint24","internalType":"uint24"},{"name":"epochEndDrawId","type":"uint24","internalType":"uint24"}],"stateMutability":"view"},{"name":"extendPromotion","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_numberOfEpochs","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"name":"getEpochIdAt","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_timestamp","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"name":"getEpochIdNow","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"name":"getPromotion","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","components":[{"name":"token","type":"address","internalType":"contract IERC20"},{"name":"epochDuration","type":"uint40","internalType":"uint40"},{"name":"createdAt","type":"uint40","internalType":"uint40"},{"name":"numberOfEpochs","type":"uint8","internalType":"uint8"},{"name":"startTimestamp","type":"uint40","internalType":"uint40"},{"name":"tokensPerEpoch","type":"uint104","internalType":"uint104"},{"name":"rewardsUnclaimed","type":"uint112","internalType":"uint112"}],"internalType":"struct Promotion"}],"stateMutability":"view"},{"name":"getRemainingRewards","type":"function","inputs":[{"name":"_promotionId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint128","internalType":"uint128"}],"stateMutability":"view"},{"name":"getVaultRewardAmount","type":"function","inputs":[{"name":"_vault","type":"address","internalType":"address"},{"name":"_promotionId","type":"uint256","internalType":"uint256"},{"name":"_epochId","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"","type":"uint128","internalType":"uint128"}],"stateMutability":"nonpayable"},{"name":"latestPromotionId","type":"function","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"name":"multicall","type":"function","inputs":[{"name":"data","type":"bytes[]","internalType":"bytes[]"}],"outputs":[{"name":"results","type":"bytes[]","internalType":"bytes[]"}],"stateMutability":"nonpayable"},{"name":"prizePool","type":"function","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPrizePool"}],"stateMutability":"view"},{"name":"promotionCreators","type":"function","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"name":"twabController","type":"function","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract TwabController"}],"stateMutability":"view"}]